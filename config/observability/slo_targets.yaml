# SLO/SLA Target Configurations
# Defines Service Level Objectives and Service Level Agreements

# Service Level Objectives (SLOs)
slos:
  # Audio Recording Service
  audioRecording:
    availability:
      target: 99.9  # 99.9% uptime
      description: "Audio recording should be available 99.9% of the time"
      errorBudget: 0.1  # 0.1% monthly error budget

    latency:
      p50: 50   # 50ms at 50th percentile
      p95: 100  # 100ms at 95th percentile
      p99: 150  # 150ms at 99th percentile
      description: "Audio latency should be minimal for real-time capture"

    successRate:
      target: 99.9  # 99.9% success rate
      description: "Recording operations should succeed 99.9% of the time"

    quality:
      minSampleRate: 16000  # 16kHz minimum
      maxLatency: 100  # 100ms maximum
      description: "Maintain high audio quality standards"

  # Transcription Service
  transcription:
    availability:
      target: 99.5  # 99.5% uptime
      description: "Transcription service should be available 99.5% of the time"
      errorBudget: 0.5  # 0.5% monthly error budget

    latency:
      p50: 300   # 300ms at 50th percentile
      p95: 500   # 500ms at 95th percentile
      p99: 1000  # 1s at 99th percentile
      description: "Transcription should complete within acceptable time"

    successRate:
      target: 99.0  # 99% success rate
      description: "Transcription operations should succeed 99% of the time"

    accuracy:
      minWordAccuracy: 95  # 95% word accuracy
      description: "Maintain high transcription accuracy"

  # AI Analysis Service
  aiAnalysis:
    availability:
      target: 99.0  # 99% uptime
      description: "AI analysis should be available 99% of the time"
      errorBudget: 1.0  # 1% monthly error budget

    latency:
      p50: 2000  # 2s at 50th percentile
      p95: 3000  # 3s at 95th percentile
      p99: 5000  # 5s at 99th percentile
      description: "AI analysis should complete within reasonable time"

    successRate:
      target: 98.0  # 98% success rate
      description: "AI analysis operations should succeed 98% of the time"

    quality:
      minConfidence: 0.7  # 70% minimum confidence
      description: "Maintain quality AI insights"

  # BLE Connection Service
  bleConnection:
    availability:
      target: 98.0  # 98% uptime
      description: "BLE connection should be available 98% of the time"
      errorBudget: 2.0  # 2% monthly error budget

    latency:
      p50: 100   # 100ms at 50th percentile
      p95: 200   # 200ms at 95th percentile
      p99: 300   # 300ms at 99th percentile
      description: "BLE operations should be responsive"

    successRate:
      target: 95.0  # 95% success rate
      description: "BLE transactions should succeed 95% of the time"

    reliability:
      maxReconnectAttempts: 3
      reconnectTimeout: 5000  # 5s
      description: "Maintain stable BLE connections"

# Service Level Agreements (SLAs)
slas:
  # Development SLA
  development:
    buildSuccess: 100  # 100% builds must succeed
    featureCompletion: 100  # 100% planned features delivered
    regressionRate: 5  # <5% regression rate
    documentationAccuracy: 100  # 100% docs match implementation

  # Performance SLA
  performance:
    appLaunchTime: 3000  # 3s cold start
    uiFrameRate: 30  # 30 fps minimum
    memoryUsageLimit: 200  # 200MB maximum
    batteryImpact: "minimal"  # Minimal battery drain

  # Support SLA
  support:
    buildFailure:
      responseTime: "immediate"
      resolutionTarget: 2h  # 2 hours

    featureRegression:
      responseTime: 2h
      resolutionTarget: 8h  # 8 hours

    newFeatureBug:
      responseTime: 4h
      resolutionTarget: 24h  # 24 hours

    enhancementRequest:
      responseTime: 1d  # 1 business day
      resolutionTarget: "next sprint"

# Error Budgets
errorBudgets:
  # Monthly error budgets (percentage of time allowed for errors)
  monthly:
    audioRecording: 0.1    # 0.1% = ~43 minutes/month
    transcription: 0.5     # 0.5% = ~3.6 hours/month
    aiAnalysis: 1.0        # 1.0% = ~7.2 hours/month
    bleConnection: 2.0     # 2.0% = ~14.4 hours/month

  # Daily error budgets
  daily:
    audioRecording: 0.5    # 0.5% = ~7 minutes/day
    transcription: 1.0     # 1.0% = ~14 minutes/day
    aiAnalysis: 2.0        # 2.0% = ~29 minutes/day
    bleConnection: 5.0     # 5.0% = ~72 minutes/day

# Performance Targets
performanceTargets:
  # Response Time Targets (milliseconds)
  responseTime:
    audioCapture: 50       # 50ms
    transcription: 500     # 500ms
    aiAnalysis: 3000       # 3s
    bleTransaction: 200    # 200ms
    uiInteraction: 100     # 100ms
    screenTransition: 300  # 300ms

  # Throughput Targets
  throughput:
    audioSampleRate: 16000      # 16kHz
    transcriptionWordsPerMin: 150  # 150 wpm
    bleTransactionsPerSec: 10   # 10 tps

  # Resource Limits
  resources:
    maxMemoryMB: 200
    maxCpuPercent: 70
    maxStorageMB: 500
    maxNetworkMbps: 10

# Quality Metrics
qualityMetrics:
  # Code Quality
  code:
    buildSuccessRate: 100      # 100%
    testCoverage: 80           # 80% target
    lintCompliance: 100        # 100%
    documentationCoverage: 90  # 90%

  # Feature Quality
  feature:
    completionRate: 100        # 100%
    accuracyRate: 95           # 95%
    reliabilityRate: 99        # 99%
    usabilityScore: 8          # 8/10

# Monitoring Windows
monitoringWindows:
  realtime: 1m      # 1 minute
  shortTerm: 5m     # 5 minutes
  mediumTerm: 1h    # 1 hour
  longTerm: 24h     # 24 hours
  rolling7d: 7d     # 7 days
  rolling30d: 30d   # 30 days

# Compliance Thresholds
compliance:
  critical: 95   # Below 95% = critical
  warning: 98    # Below 98% = warning
  healthy: 99    # Above 99% = healthy
  excellent: 99.9  # Above 99.9% = excellent
